<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Main</title>
		<link rel="stylesheet" href="src/assets/style.css">
	</head>
	<body>
		<div id="mount" style="overflow: scroll;"></div>
		<script src="elm.js" type="text/javascript"></script>
		<script type="text/javascript">

			var mount = document.getElementById("mount")
			app = Elm.embed(Elm.Main, mount, { sendStoryHeight: 0 })

			getStoryHeight = function() {
				story = document.getElementById("story");
				if (typeof story !== "undefined" && story !== null) {
					app.ports.sendStoryHeight.send(story.scrollHeight);
				}
			};

			app.ports.requestStoryHeight.subscribe(getStoryHeight);


		</script>
	</body>
</html>
